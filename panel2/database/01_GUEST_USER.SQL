USE GUEST_SYSTEM;

-- Borra la tabla si ya existe
DROP TABLE IF EXISTS GUEST_USER;

-- Crea la tabla GUEST_USER con campo USER_CODE único
CREATE TABLE GUEST_USER (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    EXTERNAL_ID VARCHAR(64) NOT NULL,
    INTERNAL_ID VARCHAR(64) NOT NULL,
    FIRST_NAME VARCHAR(64),
    LAST_NAME VARCHAR(64),
    EMAIL VARCHAR(256),
    PHONE VARCHAR(12),
    COMPANY_NAME VARCHAR(256),
    SECTOR VARCHAR(64),
    COMPANY_EMAIL VARCHAR(64),
    COMPANY_PHONE VARCHAR(64),
    COMPANY_DESCRIPTION VARCHAR(2048), -- Reducido
    OFFERED_PRODUCTS VARCHAR(2048),    -- Reducido
    OFFERED_SERVICES VARCHAR(2048),    -- Reducido
    ADDITIONAL_DETAILS VARCHAR(2048),  -- Reducido,
    USER_CODE VARCHAR(64) NOT NULL UNIQUE, -- USER_CODE debe ser único
    SALT VARCHAR(64) NOT NULL,
    PASSWORD VARCHAR(64) NOT NULL,
    CREATION_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
